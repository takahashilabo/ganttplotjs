<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
        <style type="text/css">
            .container {
                padding: 15px;
            }
        </style>
        <script>
            function run() {
                let e1 = document.getElementById("common_settings");
                let e2 = document.getElementById("gantt_data");
                let e3 = document.getElementById("result");
                e3.textContent = e1.value + compute(e2.value);
            }
            function copy_paste() {
                const e = document.getElementById("result");
                navigator.clipboard.writeText(e.textContent)
            }
            function download() {
                const filename = "default.gnuplot"
                const e = document.getElementById("result");
                let element = document.createElement('a');
                element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(e.textContent));
                element.setAttribute('download', filename);
                element.style.display = 'none';
                document.body.appendChild(element);
                element.click();
                document.body.removeChild(element);
            }
        </script>
        <title>ganttplotjs</title>

    </head>
    <body>
        <div class="container">

            <div class="form-group">
                <label for="gantt_style">Common Settings：</label>
                <textarea class="form-control" id="common_settings" rows="10">
set terminal qt font "Arial,18"                    
set size ratio 0.5 # the height as 0.5 times the width'
set xlabel "Time (s)"
set xlabel font "Arial,20"
set tics font "Arial,18" # scale letter font'
set grid xtics # grid lines for X-axis displayed
set key off # no legend displayed
                </textarea>
            </div>
            <div class="form-group">
                <label for="gantt_data">Gantt Data：</label>
                <textarea class="form-control" id="gantt_data" rows="10"></textarea>
        </div>
        <div class="form-group">
            <button type="button" id="gantt_data" class="btn btn-primary" onclick="run()";>Generate</button>
        </div>
        <div class="form-group">
            <button type="button" id="copy_paste" class="btn btn-secondary" onclick="copy_paste()";>Copy and Paste</button>
            <button type="button" id="copy_paste" class="btn btn-secondary" onclick="download()";>Download</button>
            <pre><div id="result"></div></pre>
        </div>
        <footer class="footer">
            <p style="font-size:7px;padding:3px 10px;color:#ffffff;background-color:#777777;">Takahashi Labo Ver.20241107.1</p>
        </footer>
        </div>

        <script src="ganttplot.js"></script>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
    </body>
</html>
